<!--
***********************************************************************************************
Microsoft.NETCore.Sdk.BeforeCommon.targets

WARNING:  DO NOT MODIFY this file unless you are knowledgeable about MSBuild and have
          created a backup copy.  Incorrect changes to this file will make it
          impossible to load or build your projects from the command-line or the IDE.

Copyright (c) .NET Foundation. All rights reserved. 
***********************************************************************************************
-->
<Project ToolsVersion="14.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

  <!-- Set PublishDir here, before Microsoft.Common.targets, to avoid a competing default there. -->
  <PropertyGroup>

    <!-- Since Microsoft.Common.targets hasn't be loaded yet, need to handle $(OutputPath) without a trailing slash -->
    <_TempOutputPath>$(OutputPath)</_TempOutputPath>
    <_TempOutputPath Condition="!HasTrailingSlash('$(_TempOutputPath)')">$(_TempOutputPath)\</_TempOutputPath>

    <PublishDirName Condition="'$(PublishDirName)' == ''">publish</PublishDirName>
    <PublishDir Condition="'$(PublishDir)' == '' and '$(RuntimeIdentifier)' != ''">$(_TempOutputPath)$(RuntimeIdentifier)\$(PublishDirName)\</PublishDir>
    <PublishDir Condition="'$(PublishDir)' == ''">$(_TempOutputPath)$(PublishDirName)\</PublishDir>
  </PropertyGroup>

  <Import Condition="'$(TargetFramework)' != ''"
          Project="$(MSBuildThisFileDirectory)Microsoft.NETCore.TargetFrameworkInference.targets" />

</Project>
